generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model RegionalPrice {
  id          Int      @id @default(autoincrement())
  region      String   @unique
  regionUk    String
  regionEn    String
  pricePerSqM Int      // Средняя стоимость за м² из Мінрегіон
  updatedAt   DateTime @updatedAt
  createdAt   DateTime @default(now())
}

model LoanSettings {
  id                   Int      @id @default(autoincrement())
  ratePeriod1          Float    // Ставка за перші 10 років (3% або 7%)
  ratePeriod2          Float    // Ставка за наступні роки (6% або 10%)
  minLoanAmount        Int      @default(200000)
  maxLoanAmount        Int      @default(5000000)
  minTermMonths        Int      @default(12)
  maxTermMonths        Int      @default(240)
  downPaymentPercent   Float    @default(20)
  downPaymentPercent26 Float    @default(10)
  maxAreaExcessPercent Float    @default(10)
  maxPriceExcessPercent Float   @default(10)
  updatedAt            DateTime @updatedAt
  createdAt            DateTime @default(now())
}

model UserCategory {
  id          Int      @id @default(autoincrement())
  code        String   @unique // military, medic, teacher, idp, veteran, regular
  nameUk      String
  nameRu      String
  nameEn      String
  ratePeriod1 Float    // 3% або 7%
  ratePeriod2 Float    // 6% або 10%
  maxBuildingAge       Int  // 3 або 10 років
  updatedAt   DateTime @updatedAt
  createdAt   DateTime @default(now())
}

model AdminUser {
  id        Int      @id @default(autoincrement())
  username  String   @unique @default("admin")
  password  String   // BCrypt хеш пароля
  updatedAt DateTime @updatedAt
  createdAt DateTime @default(now())
}

model PropertyType {
  id        Int      @id @default(autoincrement())
  code      String   @unique // apartment, house
  nameUk    String
  nameRu    String
  nameEn    String
  baseArea  Float    // Базова площа для 1-2 осіб
  maxArea   Float    // Максимальна площа
  updatedAt DateTime @updatedAt
  createdAt DateTime @default(now())
}
